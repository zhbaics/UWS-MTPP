/*
 * ProgressDialog.java
 *
 * Created on January 13, 2005, 11:53 AM
 */

package guisanboot.ui;

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

/**
 *
 * @author  Administrator
 */
public class ProgressDialog extends javax.swing.JDialog {
    int def_width = 295;
    int def_height = 100;
    
    /** Creates new form ProgressDialog */
    public ProgressDialog(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
    }
    
    public ProgressDialog( java.awt.Dialog parent,boolean modal ){
        super( parent,modal );
        initComponents();
    }
    
    public ProgressDialog( JDialog diag,String title,String tipStr ){
        this( diag,true );
        myInit( title,tipStr );
    }
    
    public ProgressDialog(java.awt.Frame parent,String title,String tipStr ){
        this( parent,true);
        myInit( title,tipStr );
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc=" 生成的代码 ">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        jLabel1 = new javax.swing.JLabel();

        getContentPane().setLayout(new java.awt.GridBagLayout());

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        jLabel1.setText("Deleting this snapshot now, please wait a memont...");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        getContentPane().add(jLabel1, gridBagConstraints);

        pack();
    }
    // </editor-fold>//GEN-END:initComponents
    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        new ProgressDialog(new javax.swing.JFrame(), true).setVisible( true );
    }
    
    // 变量声明 - 不进行修改//GEN-BEGIN:variables
    private javax.swing.JLabel jLabel1;
    // 变量声明结束//GEN-END:variables
    
    private void myInit( String title,String tipStr ){
        setupLanguage( title,tipStr );
        setDefaultCloseOperation( JDialog.DO_NOTHING_ON_CLOSE );
        
        Action updateCursorAction = new AbstractAction() {
            private int phrase = 0;
            
            public void actionPerformed(ActionEvent e) {
                switch( phrase ){
                    case 0:
                        setCursor(
                            Cursor.getPredefinedCursor( Cursor.N_RESIZE_CURSOR )
                        );
                        break;
                    case 1:
                        setCursor(
                            Cursor.getPredefinedCursor( Cursor.NE_RESIZE_CURSOR )
                        );
                        break;
                    case 2:
                        setCursor(
                            Cursor.getPredefinedCursor( Cursor.E_RESIZE_CURSOR )
                        );
                        break;
                    case 3:
                        setCursor(
                            Cursor.getPredefinedCursor( Cursor.SE_RESIZE_CURSOR )
                        );
                        break;
                    default:
                        setCursor(
                            Cursor.getPredefinedCursor( Cursor.N_RESIZE_CURSOR )
                        );
                        break;
                }
                phrase = (phrase+1)%4;                
            }
        };
        new Timer( 300, updateCursorAction ).start();
    }
    
    public void setupLanguage(String title,String tipStr){
        setTitle( title);
        jLabel1.setText(tipStr);
    }
    
    public void mySetSize(){
        setSize( def_width,def_height );
    }
    
    public void setDefSize( int w,int h ){
        def_width = w;
        def_height = h;
    }
    
    public int getDefWidth(){
        return def_width;
    }
    
    public int getDefHeight(){
        return def_height;
    }
}
